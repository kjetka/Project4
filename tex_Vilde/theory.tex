\subsection{Ising model}

The two dimensional Ising model is a statistical model that allows us to investigate the temperature dependence of different properties of a magnet. The model consists of a two dimensional lattice of spins that can be in two different states, spin up, $\uparrow$, or spin down, $\downarrow$ \cite{Ising}. In our system we do not have an applied field, $B_a = 0$.

The energy of our system is then:

\begin{equation}\label{eq:total_energy}
E = - J \sum^N_{\left< kl \right>} s_k s_l
\end{equation}

where in our system $J > 0$, giving a ferromagnetic ordering, and $s_k, \, s_l = \pm 1$.


\subsection{Introduction to statistics}

The methods in this project require some statistics. Equation \ref{eq:probability_density} shows the probability density and in the Ising model, the probability distribution is Boltzmann distribution (Equation \ref{eq:Boltzmann}) where $Z$ is the partition function that normalizes the probability (Equation \ref{eq:Partitionfunction}).

\begin{equation}\label{eq:probability_density}
P(a\leq X \leq b) = \int_b^a\, p(x)\, dx
\end{equation}

\begin{equation}\label{eq:Boltzmann}
P_i(\beta) = \frac{e^{-\beta E_i}}{Z}
\end{equation}

\begin{equation}\label{eq:Partitionfunction}
Z = \sum_{i=1}^M e^{-\beta E_i}
\end{equation}

In this project we are looking at different properties of a magnet. That is energy, magnetic moment, heat capacity and susceptibility. To get out this data form our Ising model, we need some statistical terms. We will use Monte Carlo cycles and the Metropolis algorithm to calculate the first order moment (Equation \ref{eq:moment}), the mean value (Equation \ref{eq:mean_value}) of the energy and the magnetic moment.

\begin{equation}\label{eq:moment}
\left< x^n \right> = \int \,x^n \,p(x)\,dx
\end{equation}

\begin{equation}\label{eq:mean_value}
\left< x \right> = \int \,x \,p(x)\,dx
\end{equation}

The mean value of the energy is then:

\[
\left< E \right> = \int E \,p(E)\, dE = \int E \int_b^a\, \frac{e^{-\beta E_i}}{\sum_{i=1}^M e^{-\beta E_i}}\, dE_i\,dE
\]
\[
= k_B T^2 \left( \frac{\partial Z}{\partial T}\right)_{V,N}
\]

Boltzman

\subsection{Magnetic properties}

The energy of this system is found by 
Helmholtz free energy:
\[
F = \left< E \right> - TS = -kT \ln Z
\]

\[
\ln Z = -F/kT = -F\beta
\]

\[
\left< E\ \right> = -\frac{\partial \ln Z}{\partial \beta}
\]

Energy, magnetic moment, susceptibility, heat capacity.

derivative of F (with respect to T/external magnetic field): E, M

second derivative of F (\_,,\_): X, Cv

Second order phase transition.
    Correlation length diverges (spin correlation - they all "feel" each other? - they all change?)
    The spin gets more and more correlated as $T \rightarrow T_C$. Correlation length increases - second order - span the whole system.
    
The Ising model exhibits a second-order phase transition since the heat capacity diverges.

T< Tc : Spontanious magnetization - ferromagnetic

T > Tc : Net magnetication = zero - paramagnetic

\begin{equation}\label{eq:critical_T}
T_C(L) - T_C(L=\infty) = a L^{-1/\nu}
\end{equation}

Markhow chain - convergance

\subsection{Our problem}

Monte Carlo sampling function:

The probability of finding the state in state i:
\[
P(E_i) = \frac{e^{-\beta E_i}}{Z}
\]

To calculate Z we need to know the energy of all states:
\[
Z = \sum_i^M e^{-\beta E_i}
\]

We can do this for the small lattice where L=2.

\subsection{Analytical solutions for L=2}

L=2 case:
\begin{table}[H]
	\caption{text}
	\label{tab: makro}
\begin{tabular}{cccccc}
	\input{../results/table_makro.tex}
\end{tabular}
\end{table}

Error
Random number

The partition function:
\[
Z = \sum_i^M e^{-\beta E_i} = e^{-\beta 8 J} + e^{-\beta 8 J} + e^{\beta 8 J}e^{\beta 8 J} + 12
\]
\[
= 2e^{-\beta 8 J}+ 2e^{\beta 8 J} + 12 = 4\left(\frac{e^{-\beta 8 J}+ e^{-\beta 8 J}}{2}\right)+12
\]
\[
= 4 \cosh\left( \beta 8 J \right) + 12
\]
 The energy:

\[
\left< E \right> = k_B T^2 \left(\frac{\partial Z}{\partial T}
\right)_{V,N}
\]

\[
= k_B T^2 \frac{\partial}{\partial T} \left[\ln \left(4\cosh \left(\frac{8J}{k_BT}\right) +12\right) \right]\]

\[
\frac{\partial \ln Z}{\partial T} = \frac{\partial Z}{\partial \beta}\frac{\partial \beta}{\partial T} = \frac{\partial \ln Z}{\partial \beta}\left(\frac{-1}{k_B T^2}\right)
\]

\[
\left< E\right> = -\left(\frac{\partial Z}{\partial \beta} \right)_{V,N} = - \frac{\partial}{\partial \beta} \ln \left[ 4 \cosh \left( 8J\beta\right)+12\right]
\]

\[
= \frac{-1}{4\cosh (8J\beta) + 12}4 \sinh(8J\beta)8J\beta
\]

\[
= \frac{-8J \sinh(8J\beta)}{3\cosh((J\beta)+ 4}
\]

Following the same method, we found that:

\[
\left< |M| \right> = \frac{1}{Z} \sum_i^M M_i e^{\beta E_i}  = \frac{(8J)^2 \cosh(8J\beta )}{\cosh (8J\beta ) + 3}
\]

\[
\left< M \right> = 0
\]

\[
\left< E^2 \right> = \frac{8 \left( e^{8J\beta } + 1\right) }{\cosh (8J\beta ) + 3}
\]


\[
\left< M^2 \right> = \frac{1}{Z} \left( \sum_i^M M_i^2 e^{\beta E_i}\right) = \frac{2 \left( e^{8J\beta } + 2\right) }{\cosh (8J\beta ) + 3}
\]

We can use these to calculate the rest:

\[
C_V = k \beta^2\left( \left< E^2\right> - \left< E\right>^2 \right)
\]

\[
\chi = \beta \left( \left< M^2\right> - \left< M\right>^2\right)
\]